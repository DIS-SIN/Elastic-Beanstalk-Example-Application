<!-- Overall Numbers-->
<table class="table table-hover">
	<thead>
		<tr>
			<td class="text-center" colspan="3"><h4><strong>{{ _('Overall Numbers') }}</strong></h4></td>
		</tr>
		<tr>
			<td><strong>{{ _('Fiscal Year') }}</strong></td>
			<td class="text-center"><strong>{{ LAST_YEAR }}</strong></td>
			<td class="text-center"><strong>{{ THIS_YEAR }}</strong></td>
		</tr>
	</thead>
	<tbody>
		{% for tup1, tup2 in pass_dict.overall_learner_numbers_LY|zip(pass_dict.overall_learner_numbers_TY) %}
			<tr>
				<!-- Name -->
				<!-- Add tooltip explaining difference between Registrations and Unique Learners -->
				{% if tup1[0] == _('Unique Learners') %}
					<td>
						{{ tup1[0] }}
						<img id="unique-learners-tooltip" class="table-tooltip" src="{{ url_for('static', filename='tooltip.png') }}" alt="{{ _('Tooltip') }}" />
					</td>
				{% else %}
					<td>{{ tup1[0] }}</td>
				{% endif %}
				
				<!-- LAST_YEAR's value -->
				<td class="text-center">{{ tup1[1] }}</td>
				
				<!-- THIS_YEAR's value -->
				<td class="text-center">{{ tup2[1] }}</td>
			</tr>
		{% endfor %}
	</tbody>
</table>

<!-- Registrations per Month -->
<div class="row dashboard-chart">
	<h4 class= "dashboard-chart-title">{{ _('No-Shows and Confirmed Registrations per Month') }}</h4>
	<div id="regs-per-month" class="col-xs-12"></div>
</div>

<div class="row dashboard-chart">
	<!-- Top 5 Departments -->
	<div class="col-xs-12 col-md-6">
		<table class="table table-hover">
			<thead>
				<tr>
					<td class="text-center" colspan="2"><h4><strong>{{ _('Top 5 Departments') }}</strong></h4></td>
				</tr>
				<tr>
					<td><strong>{{ _('Name') }}</strong></td>
					<td class="text-right"><strong>{{ _('Registrations') }}</strong></td>
				</tr>
			</thead>
			<tbody>
				{% for tuple in pass_dict.top_5_depts %}
					<tr>
						<td>{{ tuple[0] }}</td>
						<td class="text-right">{{ tuple[1] }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	
	<!-- Top 5 Classifications -->
	<div class="col-xs-12 col-md-6">
		<table class="table table-hover">
			<thead>
				<tr>
					<td class="text-center" colspan="2"><h4><strong>{{ _('Top 5 Classifications') }}</strong></h4></td>
				</tr>
				<tr>
					<td><strong>{{ _('Name') }}</strong></td>
					<td class="text-right"><strong>{{ _('Registrations') }}</strong></td>
				</tr>
			</thead>
			<tbody>
				{% for tuple in pass_dict.top_5_classifs %}
					<tr>
						<td>{{ tuple[0] }}</td>
						<td class="text-right">{{ tuple[1] }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>

<script async>
	// Add tooltips
	$('#unique-learners-tooltip').tooltip({
		placement: 'bottom',
		title: "{{ _('<h5>Tip:</h5><p>There may be fewer unique learners than registrations if one or more people retook the course.</p>') }}",
		animation: true,
		html: true
	});
	
	// No-Shows and Confirmed Registrations per Month
	$('#regs-per-month').highcharts({
		chart: {type: 'column'},
		title: {text: ''},
		xAxis: {type: 'category'},
		yAxis: {title: {text: ''}, allowDecimals: false, min: 0},
		legend: {enabled: false},
		credits: {text: ''},
		series: [{
			name: "{{ _('Registrations') }}",
			colorByPoint: false,
			data: {{ pass_dict.regs_per_month | safe }}
		}]
	});
</script>
